# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 400 Bad Request –≤ API /api/catalog/products/images

## üêõ **–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –Ω–∞–π–¥–µ–Ω–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞:**

### **–ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå **PropertyFilter** –æ—Ç–ø—Ä–∞–≤–ª—è–ª –ø–∞—Ä–∞–º–µ—Ç—Ä `propertyNames` (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ) –≤ —Ñ—É–Ω–∫—Ü–∏—é `loadProductImages`
- ‚ùå **API endpoint** `/api/catalog/products/images` –æ–∂–∏–¥–∞–ª –ø–∞—Ä–∞–º–µ—Ç—Ä `propertyName` (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ)
- ‚ùå **–†–µ–∑—É–ª—å—Ç–∞—Ç**: HTTP 400 Bad Request —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "Property name and value are required"

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- ‚úÖ **–ò–∑–º–µ–Ω–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä** –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `loadProductImages` —Å `propertyNames` –Ω–∞ `propertyName`
- ‚úÖ **API endpoint** —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
- ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç**: HTTP 200 OK —Å –¥–∞–Ω–Ω—ã–º–∏

## üîß **–ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

### **–í —Ñ–∞–π–ª–µ `PropertyFilter.tsx` –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `loadProductImages`:**
```typescript
// –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
query.append('propertyNames', propertyName);

// –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
query.append('propertyName', propertyName);
```

### **–ö–æ–Ω—Ç–µ–∫—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```typescript
const loadProductImages = async (propertyName: string, propertyValues: string[]) => {
  // ...
  const imagePromises = propertyValues.map(async (value) => {
    const query = new URLSearchParams();
    element.props.categoryIds.forEach((id: string) => {
      query.append('categoryIds', id);
    });
    query.append('propertyName', propertyName); // ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
    query.append('propertyValue', value);
    
    const response = await fetch(`/api/catalog/products/images?${query.toString()}`);
    // ...
  });
};
```

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ API endpoint:**
```bash
# –¢–µ—Å—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
curl "http://localhost:3000/api/catalog/products/images?categoryIds=cmg50xcgs001cv7mn0tdyk1wo&propertyName=Domeo_%D0%9D%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D0%B8%20%D0%B4%D0%BB%D1%8F%20Web&propertyValue=DomeoDoors_Base_1"

# –†–µ–∑—É–ª—å—Ç–∞—Ç: 
{
  "success": true,
  "images": [],
  "count": 0,
  "productCount": 479
}
```

### **2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
1. **–û—Ç–∫—Ä–æ–π—Ç–µ** `http://localhost:3000/professional-builder`
2. **–î–æ–±–∞–≤—å—Ç–µ** PropertyFilter –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞ –∫–∞–Ω–≤–∞—Å
3. **–í—ã–±–µ—Ä–∏—Ç–µ** –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Å —Ç–æ–≤–∞—Ä–∞–º–∏
4. **–í—ã–±–µ—Ä–∏—Ç–µ** —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ 400 Bad Request

### **3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:**
- ‚úÖ **–ù–µ—Ç –æ—à–∏–±–æ–∫** HTTP 400 Bad Request –¥–ª—è `/api/catalog/products/images`
- ‚úÖ **–ï—Å—Ç—å –ª–æ–≥–∏** —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ **PropertyFilter** –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –æ—à–∏–±–æ–∫

## üìä **–°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

- **API endpoint**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **PropertyFilter**: ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã  
- **–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: ‚úÖ –£—Å–ø–µ—à–Ω–æ (–¥–∞–∂–µ –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–µ—Ç)
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**: ‚úÖ –ë–µ–∑ –æ—à–∏–±–æ–∫
- **–ö–æ–Ω—Å–æ–ª—å**: ‚úÖ –ë–µ–∑ –æ—à–∏–±–æ–∫ 400

## üîç **–í–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏:**

### **–ü–æ—á–µ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏:**
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `"images": []` - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –¢–æ–≤–∞—Ä—ã –º–æ–≥—É—Ç –Ω–µ –∏–º–µ—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- API –Ω–∞—Ö–æ–¥–∏—Ç —Ç–æ–≤–∞—Ä—ã (`"productCount": 479`), –Ω–æ —É –Ω–∏—Ö –Ω–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –≠—Ç–æ –Ω–µ –æ—à–∏–±–∫–∞, –∞ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### **–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É API endpoints:**
- `/api/catalog/properties/unique-values` - –æ–∂–∏–¥–∞–µ—Ç `propertyNames` (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ)
- `/api/catalog/products/images` - –æ–∂–∏–¥–∞–µ—Ç `propertyName` (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ)
- –ö–∞–∂–¥—ã–π API –∏–º–µ–µ—Ç —Å–≤–æ–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º

## üéØ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ** PropertyFilter –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. **–£–±–µ–¥–∏—Ç–µ—Å—å**, —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ 400 –≤ –∫–æ–Ω—Å–æ–ª–∏
3. **–°–æ–∑–¥–∞–π—Ç–µ —Å–≤—è–∑–∏** –º–µ–∂–¥—É PropertyFilter –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é** —Ñ–∏–ª—å—Ç—Ä–æ–≤

## üöÄ **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

PropertyFilter —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ 400 Bad Request –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –í—Å–µ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –∏ —Ñ–∏–ª—å—Ç—Ä—ã –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –¥–æ–ª–∂–Ω—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ –ø—Ä–æ–±–ª–µ–º!
