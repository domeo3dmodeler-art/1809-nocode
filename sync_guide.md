\# Sync Guide — регламент синхронизации



\## Принципы

\- На область — один источник истины (без дублей).

\- Любое изменение фиксируется в соответствующем `.md` в том же MR/коммите.

\- Если изменилась логика — обновляем `master\_spec.md` и профильные гайды.

\- Если изменились сроки/вехи — обновляем `roadmap.md` и `state.md`.

\- Если задача выполнена — статус отражён в `state.md`.

\- Все обновления сверяются по этому документу.



\## Матрица синхронизации («что менять вместе»)



| Событие / Изменение                           | Обязательные файлы к обновлению                                  |

|-----------------------------------------------|-------------------------------------------------------------------|

| Изменение контракта API                       | `master\_spec.md`, OpenAPI (`openapi.yaml`), профильные гайды (Admin/Import), `state.md` |

| Изменение логики расчётов/экспорта            | `master\_spec.md`, `spec\_kp\_formulas.md`, `roadmap.md`, `state.md` |

| Изменение UI-флоу админки                     | `admin\_guide.md`, `master\_spec.md`, `state.md`                    |

| Изменение импорта (mapping/валидации/формат)  | `data\_import\_guide\_doors.md`, `master\_spec.md`, `state.md`        |

| Движение вех/сроков                           | `roadmap.md`, `state.md`                                          |

| Выполнение задачи                             | `state.md`                                                        |

| Обновление правил медиа                       | `master\_spec.md`, `admin\_guide.md`, OpenAPI, `state.md`           |



\## Ритуалы

\- \*\*Ежедневно\*\*: актуализировать `state.md`.

\- \*\*Еженедельно\*\*: обновлять `roadmap.md` и сверять `admin\_guide.md`.

\- \*\*По событию\*\*: любые изменения в логике/формулах/категориях — сразу фиксировать в `master\_spec.md` + профильные файлы.



\## Требования к коммитам

\- Изменение кода + соответствующие файлы-истины — в одном коммите.

\- Сообщение коммита должно упоминать затронутые артефакты (например: `fix(api,docs): update media upload contract + admin guide`).





