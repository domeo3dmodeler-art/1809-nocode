Title: Domeo — Roadmap (Doors Pilot)
Owner: @PM + @GPT
Last updated (Europe/Paris): 2025-09-11
Related: [Master Spec](./master_spec.md), [State](./state.md), [Admin Guide](./admin_guide.md),
         [Data Import Guide Doors](./data_import_guide_doors.md), [Spec КП и формулы](./spec_kp_formulas.md), [Sync Guide](./sync_guide.md)

# Roadmap — Domeo No-Code Calculators (Pilot: Doors)

**Цель:** довести пилот *Doors* до релиза и отработать полный цикл (архитектура → импорт → расчёты → админка → экспорт).

---

## 0. Роли и ответственность

- **PM:** контроль сроков и DoD.  
- **GPT (виртуальная команда):** единственный разработчик проекта, ведёт весь код, CI/CD, синхронизацию документации (`state.md`, `roadmap.md`, `master_spec.md`, `admin_guide.md`, `data_import_guide_doors.md`, `spec_kp_formulas.md`, `sync_guide.md`).  

---

## 1. Milestones

### M1 — Импорт Doors (DoD)
- Подготовлен прайс (RRC) и фото.  
- Импорт в админке (валидация, отчёты).  
- Разрешены конфликты РРЦ.  
- UPSERT в БД.  
- Smoke-тесты `/options`, `/price`, экспорт КП/Заказ.  
- Фиксация результата в `state.md`.  

### M2 — CRUD калькуляторов + Pricing DSL
- Админка: CRUD категорий/правил.  
- Мини-движок Pricing v1 подключен.  
- Тесты правил проходят.  

### M3 — Корзина + КП/Счёт/Заказ
- UI корзины + сохранение расчёта.  
- Экспорт КП (PDF), Счёта (PDF), Заказа (CSV/XLSX).  
- Чеклисты приёмки из Master Spec пройдены.  

### M4 — Релиз пилота
- Автосборка (CI/CD).  
- Автостарт через systemd.  
- PIT-бэкап при публикациях.  
- Демонстрация «новая категория без кода» (Windows).  

---

## 2. Критерии готовности

- Категория *Doors* полностью работает без правок в коде.  
- Импорт XLSX/CSV даёт корректный каталог.  
- Конфликты РРЦ разрешаются через UI.  
- `/price` считает по DSL.  
- Экспорт КП/Счёт/Заказ формируется из шаблонов.  
- Добавление новой категории возможно только через конфиги.  

---

## 3. Сроки (ориентир)

- **M1:** до 2025-09-20.  
- **M2:** до 2025-09-30.  
- **M3:** до 2025-10-10.  
- **M4 (релиз):** до 2025-10-20.  

---

## 4. Зависимости

- Прайсы и фото Doors от поставщиков.  
- Тестовые шаблоны КП/Заказа.  
- CI/CD пайплайн (GitHub Actions).  
- PostgreSQL в Yandex Cloud.  

---

## 5. DoD (Definition of Done)

- Изменения в коде сопровождаются обновлением документации.  
- Все задачи отражаются в `state.md`.  
- Нет обновления документа → задача считается незавершённой.  
- Проверка синхронизации по `sync_guide.md`.  
