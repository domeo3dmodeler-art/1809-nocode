# Инструкция по диагностике проблемы с загрузкой файлов

## Проблема
На странице импорта прайса показывается "Заголовки файла: Не загружены", что означает, что файл не обрабатывается сервером.

## Диагностика

### 1. Проверьте консоль браузера
1. Откройте http://localhost:3000/admin/import
2. Нажмите F12 для открытия консоли разработчика
3. Выберите категорию "Двери"
4. Загрузите Excel файл
5. Проверьте логи в консоли:
   - `File selected: [имя файла]`
   - `Sending request to: /api/admin/import/universal`
   - `Response status: [статус]`
   - `Response data: [данные]`

### 2. Проверьте логи сервера
В терминале где запущен `npm run dev` должны появиться логи:
- `=== API CALL START ===`
- `FormData received, keys: [file, category, mode]`
- `Parsed parameters: {...}`
- `Headers mode - processing file: ...`

### 3. Возможные проблемы

#### Проблема 1: Файл не отправляется
**Симптомы:** Нет логов в консоли браузера
**Решение:** Проверьте, что файл выбран и категория выбрана

#### Проблема 2: Ошибка сети
**Симптомы:** Ошибка в консоли браузера
**Решение:** Проверьте, что сервер запущен на порту 3000

#### Проблема 3: Ошибка сервера
**Симптомы:** Логи сервера показывают ошибку
**Решение:** Проверьте формат файла (.xlsx, .csv, .xls)

#### Проблема 4: Неправильный тип файла
**Симптомы:** "Неподдерживаемый тип файла"
**Решение:** Используйте Excel (.xlsx) или CSV (.csv) файлы

## Тестовый файл
Создан тестовый файл `test_headers.csv` с простыми данными для проверки.

## Следующие шаги
1. Выполните диагностику выше
2. Сообщите о результатах проверки
3. При необходимости будет добавлена дополнительная отладка
