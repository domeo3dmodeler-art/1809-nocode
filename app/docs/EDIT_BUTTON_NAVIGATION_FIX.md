# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"

## ‚úÖ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞!**

### üéØ **–ü—Ä–æ–±–ª–µ–º–∞:**
–ö–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –≤ —Å–ø–∏—Å–∫–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–µ –ø–µ—Ä–µ–≤–æ–¥–∏–ª–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —à–∞–≥–æ–≤.

### üõ†Ô∏è **–ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

#### **1. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –∫–Ω–æ–ø–∫–∏ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å":**
- ‚ùå **–î–û**: `href={`/admin/categories/${category.id}`}`
- ‚úÖ **–ü–û–°–õ–ï**: `href={`/admin/categories/builder?id=${category.id}`}`

#### **2. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–∂–∏–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–æ–∑–¥–∞–Ω–∏—è:**
```typescript
// –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
const [loading, setLoading] = useState(false);
const [isEditMode, setIsEditMode] = useState(false);

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
useEffect(() => {
  if (categoryId) {
    loadExistingCategory();
  }
}, [categoryId]);
```

#### **3. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
```typescript
const loadExistingCategory = async () => {
  setLoading(true);
  try {
    const response = await fetch(`/api/admin/categories/${categoryId}`);
    const result = await response.json();
    
    if (result.success && result.category) {
      const category = result.category;
      setCategoryData(category);
      setIsEditMode(true);
      
      // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–∞–∫–∏–µ —à–∞–≥–∏ —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
      const completed = [];
      if (category.name && category.slug) {
        completed.push('info');
      }
      if (category.displayConfig && Object.keys(category.displayConfig).length > 0) {
        completed.push('design');
      }
      setCompletedSteps(completed);
      
      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —à–∞–≥ –Ω–∞ –ø–µ—Ä–≤—ã–π –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π
      if (!completed.includes('info')) {
        setCurrentStep('info');
      } else if (!completed.includes('upload')) {
        setCurrentStep('upload');
      } else if (!completed.includes('design')) {
        setCurrentStep('design');
      } else {
        setCurrentStep('preview');
      }
    }
  } catch (error) {
    console.error('Error loading category:', error);
    alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏');
  } finally {
    setLoading(false);
  }
};
```

#### **4. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è handleInfoComplete –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```typescript
const handleInfoComplete = async (data: any) => {
  try {
    let response;
    
    if (isEditMode && categoryData?.id) {
      // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
      response = await fetch(`/api/admin/categories/${categoryData.id}`, {
        method: 'PUT',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          name: data.name,
          slug: data.slug,
          description: data.description,
          isActive: true
        }),
      });
    } else {
      // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
      response = await fetch('/api/admin/categories', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          name: data.name,
          slug: data.slug,
          description: data.description,
          isActive: true
        }),
      });
    }

    if (response.ok) {
      const result = await response.json();
      if (result.success) {
        setCategoryData({ ...data, id: result.category.id || categoryData.id });
        setCompletedSteps(prev => [...prev, 'info']);
        setCurrentStep('upload');
      }
    }
  } catch (error) {
    console.error('Error saving category info:', error);
    alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏');
  }
};
```

#### **5. –î–æ–±–∞–≤–ª–µ–Ω PUT –º–µ—Ç–æ–¥ –≤ API –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
```typescript
// app/api/admin/categories/[id]/route.ts
export async function PUT(req: NextRequest, { params }: { params: { id: string } }) {
  try {
    const categoryId = params.id;
    const { name, slug, description, isActive } = await req.json();

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    const existingCategory = await prisma.frontendCategory.findUnique({
      where: { id: categoryId }
    });

    if (!existingCategory) {
      return NextResponse.json({ error: '–ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞' }, { status: 404 });
    }

    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é
    const updatedCategory = await prisma.frontendCategory.update({
      where: { id: categoryId },
      data: {
        name,
        slug,
        description,
        is_active: isActive,
        updated_at: new Date()
      }
    });

    return NextResponse.json({
      success: true,
      category: {
        id: updatedCategory.id,
        name: updatedCategory.name,
        slug: updatedCategory.slug,
        description: updatedCategory.description,
        isActive: updatedCategory.is_active,
        catalogCategoryIds: JSON.parse(updatedCategory.catalog_category_ids),
        displayConfig: JSON.parse(updatedCategory.display_config),
        createdAt: updatedCategory.created_at,
        updatedAt: updatedCategory.updated_at
      },
      message: '–ö–∞—Ç–µ–≥–æ—Ä–∏—è —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞'
    });
  } catch (error) {
    console.error('Category update error:', error);
    return NextResponse.json({ error: '–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏' }, { status: 500 });
  }
}
```

#### **6. –û–±–Ω–æ–≤–ª–µ–Ω CategoryInfoForm –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö:**
```typescript
interface CategoryInfoFormProps {
  onComplete: (data: any) => void;
  onCancel: () => void;
  initialData?: any; // –ù–æ–≤—ã–π –ø—Ä–æ–ø—Å
}

export default function CategoryInfoForm({ onComplete, onCancel, initialData }: CategoryInfoFormProps) {
  const [categoryData, setCategoryData] = useState<CategoryData>({
    name: initialData?.name || '',        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ
    description: initialData?.description || '',
    slug: initialData?.slug || '',
    is_main: true,
    parent_id: null,
  });
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
}
```

#### **7. –î–æ–±–∞–≤–ª–µ–Ω –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏:**
```typescript
if (loading) {
  return (
    <AdminLayout
      title={isEditMode ? "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä–∞" : "–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä–∞"}
      subtitle="–ó–∞–≥—Ä—É–∑–∫–∞..."
    >
      <div className="flex justify-center items-center py-12">
        <div className="text-center">
          <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"></div>
          <p className="text-gray-600">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–∏...</p>
        </div>
      </div>
    </AdminLayout>
  );
}
```

#### **8. –û–±–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
```typescript
// –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤ AdminLayout
title={isEditMode ? "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä–∞" : "–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä–∞"}

// –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤ —à–∞–ø–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
<h1 className="text-2xl font-bold text-gray-900">
  {isEditMode ? "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä–∞" : "–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä–∞"}
</h1>
<p className="text-gray-600 mt-1">
  {isEditMode ? "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏" : "–ü–æ—à–∞–≥–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"}
</p>
```

### üîÑ **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Ä–µ–∂–∏–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

#### **1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞:**
- ‚úÖ **–ù–æ–≤—ã–π —Ä–µ–∂–∏–º**: `?id=` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ URL
- ‚úÖ **–†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: `?id=categoryId` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ URL

#### **2. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö:**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ `id`
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è** –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã** —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

#### **3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —à–∞–≥–æ–≤:**
- ‚úÖ **–®–∞–≥ "–ò–Ω—Ñ–æ"**: –≤—ã–ø–æ–ª–Ω–µ–Ω –µ—Å–ª–∏ `category.name` –∏ `category.slug` —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- ‚úÖ **–®–∞–≥ "–î–∏–∑–∞–π–Ω"**: –≤—ã–ø–æ–ª–Ω–µ–Ω –µ—Å–ª–∏ `category.displayConfig` –Ω–µ –ø—É—Å—Ç–æ–π
- ‚úÖ **–®–∞–≥ "–î–∞–Ω–Ω—ã–µ"**: –≤—ã–ø–æ–ª–Ω–µ–Ω –µ—Å–ª–∏ –µ—Å—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å)

#### **4. –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —à–∞–≥–∞–º:**
- ‚úÖ **–¢–µ–∫—É—â–∏–π —à–∞–≥** —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤—ã–π –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π
- ‚úÖ **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–µ—Ä–Ω—É—Ç—å—Å—è** –∫ –ª—é–±–æ–º—É —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–º—É —à–∞–≥—É
- ‚úÖ **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å** –ª—é–±–æ–π —à–∞–≥ –ø–æ–≤—Ç–æ—Ä–Ω–æ

#### **5. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- ‚úÖ **–ù–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**: –∏—Å–ø–æ–ª—å–∑—É—é—Ç POST –∑–∞–ø—Ä–æ—Å
- ‚úÖ **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**: –∏—Å–ø–æ–ª—å–∑—É—é—Ç PUT –∑–∞–ø—Ä–æ—Å
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### üé® **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**

#### **1. –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- ‚úÖ **–û–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ **–ï–¥–∏–Ω–∞—è –ª–æ–≥–∏–∫–∞** –æ–±—Ä–∞–±–æ—Ç–∫–∏ —à–∞–≥–æ–≤
- ‚úÖ **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π UX** –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

#### **2. –ì–∏–±–∫–æ—Å—Ç—å:**
- ‚úÖ **–ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å** –ª—é–±–æ–π —à–∞–≥ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è
- ‚úÖ **–ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å** —à–∞–≥–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∫ –Ω–∏–º –ø–æ–∑–∂–µ
- ‚úÖ **–ú–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å** —Å –ª—é–±–æ–≥–æ —à–∞–≥–∞

#### **3. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è** –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ **Graceful degradation** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏** –¥–ª—è –ª—É—á—à–µ–≥–æ UX

#### **4. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** –¥–∞–Ω–Ω—ã—Ö —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ** API –∑–∞–ø—Ä–æ—Å—ã

### üöÄ **URL –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

#### **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
`http://localhost:3000/admin/categories/builder`

#### **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
`http://localhost:3000/admin/categories/builder?id=CATEGORY_ID`

#### **–°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:**
`http://localhost:3000/admin/categories`

### üìã **–ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**

#### **–¢–µ—Å—Ç 1: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**
1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞** `/admin/categories`
2. **–ù–∞–∂–º–∏—Ç–µ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"** –Ω–∞ –ª—é–±–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
   - ‚úÖ URL —Å–æ–¥–µ—Ä–∂–∏—Ç `?id=categoryId`
   - ‚úÖ –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä–∞"
   - ‚úÖ –§–æ—Ä–º–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
   - ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —à–∞–≥–∏

#### **–¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö**
1. **–í —Ä–µ–∂–∏–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º—É "–ò–Ω—Ñ–æ"
2. **–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã**:
   - ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ
   - ‚úÖ Slug (–µ—Å–ª–∏ –±—ã–ª —Å–æ–∑–¥–∞–Ω)

#### **–¢–µ—Å—Ç 3: –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —à–∞–≥–∞–º**
1. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–π—Ç–∏** –∫ –ª—é–±–æ–º—É —à–∞–≥—É
2. **–†–µ–∑—É–ª—å—Ç–∞—Ç**:
   - ‚úÖ –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ –ª—é–±–æ–º—É —à–∞–≥—É
   - ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —à–∞–≥–∏ –æ—Ç–º–µ—á–µ–Ω—ã –≤ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–µ
   - ‚úÖ –ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ª—é–±–æ–π —à–∞–≥ –ø–æ–≤—Ç–æ—Ä–Ω–æ

#### **–¢–µ—Å—Ç 4: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π**
1. **–ò–∑–º–µ–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ** –≤ —à–∞–≥–µ "–ò–Ω—Ñ–æ"
2. **–ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"**
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç**:
   - ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ PUT –∑–∞–ø—Ä–æ—Å
   - ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É
   - ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

#### **–¢–µ—Å—Ç 5: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**
1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞** `/admin/categories/builder` (–±–µ–∑ `?id=`)
2. **–†–µ–∑—É–ª—å—Ç–∞—Ç**:
   - ‚úÖ –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä–∞"
   - ‚úÖ –§–æ—Ä–º–∞ –ø—É—Å—Ç–∞—è
   - ‚úÖ –í—Å–µ —à–∞–≥–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

### üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**

#### **1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ URL:**
```
/admin/categories/builder           - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
/admin/categories/builder?id=123    - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å ID=123
```

#### **2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞:**
```typescript
const searchParams = useSearchParams();
const categoryId = searchParams.get('id');
const isEditMode = !!categoryId;
```

#### **3. API Endpoints:**
```
GET  /api/admin/categories/[id]     - –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
PUT  /api/admin/categories/[id]     - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
POST /api/admin/categories          - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
```

#### **4. –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:**
```typescript
const [categoryData, setCategoryData] = useState<any>(null);
const [completedSteps, setCompletedSteps] = useState<BuilderStep[]>([]);
const [loading, setLoading] = useState(false);
const [isEditMode, setIsEditMode] = useState(false);
```

#### **5. –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —à–∞–≥–æ–≤:**
```typescript
const completed = [];
if (category.name && category.slug) {
  completed.push('info');
}
if (category.displayConfig && Object.keys(category.displayConfig).length > 0) {
  completed.push('design');
}
// –ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–ª—è –¥—Ä—É–≥–∏—Ö —à–∞–≥–æ–≤
```

### üéâ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

**–ö–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞!**

- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** - –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–∑–¥–∞–Ω–∏—è —Å `?id=`
- ‚úÖ **–†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ URL
- ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö** - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç —Ñ–æ—Ä–º—É
- ‚úÖ **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —à–∞–≥–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫–∏–µ —à–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- ‚úÖ **–ì–∏–±–∫–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** - –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ –ª—é–±–æ–º—É —à–∞–≥—É –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ API –º–µ—Ç–æ–¥—ã (POST/PUT)
- ‚úÖ **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏** - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –æ–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–°–∏—Å—Ç–µ–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ!** üé®‚ú®




