# üîß –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ React-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ PropertyFilter

## –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –í `PropertyFilter.tsx`:
1. –ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ: `PropertyFilter [element-id]: –†–µ–Ω–¥–µ—Ä. element.props.propertyName: [–∑–Ω–∞—á–µ–Ω–∏–µ]`
2. –í useEffect: `PropertyFilter [element-id]: useEffect triggered. element.props.propertyName: [–∑–Ω–∞—á–µ–Ω–∏–µ]`
3. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏: `PropertyFilter [element-id]: handleValueChange. element.props.propertyName: [–∑–Ω–∞—á–µ–Ω–∏–µ]`

### –í `PropertiesPanel.tsx`:
4. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ onPropertiesChange: `üö® PropertiesPanel: onPropertiesChange –í–´–ó–í–ê–ù!`
5. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ handleElementPropChange: `üö® PropertiesPanel: handleElementPropChange –≤—ã–∑–≤–∞–Ω!`
6. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ onUpdateElement: `üö® PropertiesPanel: onUpdateElement –≤—ã–∑–≤–∞–Ω!`

### –í `ProductPropertiesSelector.tsx`:
7. –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Å–≤–æ–π—Å—Ç–≤–∞: `üö® ProductPropertiesSelector: toggleProperty –≤—ã–∑–≤–∞–Ω!`

### –í `PageBuilder.tsx`:
8. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ handleUpdateElement: `üö® PageBuilder: handleUpdateElement –≤—ã–∑–≤–∞–Ω!`
9. –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞: `üö® PageBuilder: –î–æ–∫—É–º–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω!`

### –í `ElementRenderer.tsx`:
10. –ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ PropertyFilter: `üö® ElementRenderer: –†–µ–Ω–¥–µ—Ä–∏–º PropertyFilter`

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `http://localhost:3000/professional-builder`
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Console
3. –û—á–∏—Å—Ç–∏—Ç–µ –∫–æ–Ω—Å–æ–ª—å (Ctrl+L)

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä
1. –î–æ–±–∞–≤—å—Ç–µ –±–ª–æ–∫ "–§–∏–ª—å—Ç—Ä —Å–≤–æ–π—Å—Ç–≤"
2. –í—ã–±–µ—Ä–∏—Ç–µ –µ–≥–æ (–æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–¥–µ–ª–µ–Ω —Å–∏–Ω–∏–º)

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä
1. –í –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é: "–ú–µ–∂–∫–æ–º–Ω–∞—Ç–Ω—ã–µ –¥–≤–µ—Ä–∏"
2. **–í–ê–ñ–ù–û:** –í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Domeo_–°—Ç–∏–ª—å Web")

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ –ª–æ–≥–æ–≤
–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è **–í–°–ï** —Å–ª–µ–¥—É—é—â–∏–µ –ª–æ–≥–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ:

```
üö® ProductPropertiesSelector: toggleProperty –≤—ã–∑–≤–∞–Ω! {propertyId: "...", newSelected: [...], categoryIds: [...]}
üö® PropertiesPanel: onPropertiesChange –í–´–ó–í–ê–ù! {selectedPropertyIds: [...], availableProperties: 25, ...}
PropertiesPanel: –û–±–Ω–æ–≤–ª—è–µ–º propertyName –Ω–∞: Domeo_–°—Ç–∏–ª—å Web
üö® PropertiesPanel: handleElementPropChange –≤—ã–∑–≤–∞–Ω! {elementId: "...", key: "propertyName", value: "Domeo_–°—Ç–∏–ª—å Web", currentProps: {...}}
üö® PropertiesPanel: onUpdateElement –≤—ã–∑–≤–∞–Ω! {elementId: "...", newProps: {...}}
üö® PageBuilder: handleUpdateElement –≤—ã–∑–≤–∞–Ω! {elementId: "...", updates: {...}, selectedPageId: "..."}
üö® PageBuilder: –î–æ–∫—É–º–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω! {elementId: "...", updatedElement: {...}}
üö® ElementRenderer: –†–µ–Ω–¥–µ—Ä–∏–º PropertyFilter {elementId: "...", elementProps: {...}, propertyName: "Domeo_–°—Ç–∏–ª—å Web"}
PropertyFilter [element-xxx]: –†–µ–Ω–¥–µ—Ä. element.props.propertyName: Domeo_–°—Ç–∏–ª—å Web
```

### –®–∞–≥ 5: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é
1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Ñ–∏–ª—å—Ç—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ö–ª–∞—Å—Å–∏–∫–∞")
2. –í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
PropertyFilter [element-xxx]: handleValueChange. element.props.propertyName: Domeo_–°—Ç–∏–ª—å Web value: –ö–ª–∞—Å—Å–∏–∫–∞
üîó PropertyFilter –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ: {propertyName: "Domeo_–°—Ç–∏–ª—å Web", ...}
```

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### ‚ùå **–ï—Å–ª–∏ –ù–ï–¢ –ª–æ–≥–æ–≤ –æ—Ç `ProductPropertiesSelector`:**
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ UI - —Å–≤–æ–π—Å—Ç–≤–æ –Ω–µ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è –≤—ã–±—Ä–∞–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–≤–æ–π—Å—Ç–≤–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

### ‚ùå **–ï—Å–ª–∏ –ù–ï–¢ –ª–æ–≥–æ–≤ –æ—Ç `PropertiesPanel: onPropertiesChange`:**
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ –ø–µ—Ä–µ–¥–∞—á–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `onPropertiesChange` –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### ‚ùå **–ï—Å–ª–∏ –ù–ï–¢ –ª–æ–≥–æ–≤ –æ—Ç `PropertiesPanel: handleElementPropChange`:**
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ –ª–æ–≥–∏–∫–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `propertyName`
- –ö–æ–¥ `handleElementPropChange('propertyName', property.name)` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è

### ‚ùå **–ï—Å–ª–∏ –ù–ï–¢ –ª–æ–≥–æ–≤ –æ—Ç `PageBuilder: handleUpdateElement`:**
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ –ø–µ—Ä–µ–¥–∞—á–µ `onUpdateElement` –≤ `PropertiesPanel`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### ‚ùå **–ï—Å–ª–∏ –ù–ï–¢ –ª–æ–≥–æ–≤ –æ—Ç `ElementRenderer: –†–µ–Ω–¥–µ—Ä–∏–º PropertyFilter`:**
- **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê:** React –Ω–µ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–≤–∞–µ—Ç `PropertyFilter`
- –í–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ `updateElementInTree` –∏–ª–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### ‚ùå **–ï—Å–ª–∏ `ElementRenderer` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `propertyName`, –Ω–æ `PropertyFilter` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `undefined`:**
- **–ü–†–û–ë–õ–ï–ú–ê –í –ü–ï–†–ï–î–ê–ß–ï PROPS:** React –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ props –≤ `PropertyFilter`
- –í–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞:**
- –í—Å–µ 10 –ª–æ–≥–æ–≤ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
- `ElementRenderer` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `propertyName`
- `PropertyFilter` —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º `propertyName`
- –ü—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π `propertyName`

‚ùå **–ü—Ä–æ–±–ª–µ–º–Ω–∞—è —Ä–∞–±–æ—Ç–∞:**
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ª–æ–≥–∏ –Ω–∞ –∫–∞–∫–æ–º-—Ç–æ —ç—Ç–∞–ø–µ
- `ElementRenderer` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `propertyName`, –Ω–æ `PropertyFilter` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `undefined`
- –ü—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `propertyName: undefined`

## –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ React-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ:
1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å `updateElementInTree`** - –≤–æ–∑–º–æ–∂–Ω–æ, —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç
2. **–î–æ–±–∞–≤–∏—Ç—å `key` prop** –∫ `PropertyFilter` –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useMemo` –∏–ª–∏ `useCallback`** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

### –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ –ø–µ—Ä–µ–¥–∞—á–µ props:
1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `element`** - –≤–æ–∑–º–æ–∂–Ω–æ, `element.props` –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
2. **–î–æ–±–∞–≤–∏—Ç—å `useEffect`** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `element.props.propertyName`
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useState`** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è `propertyName`

