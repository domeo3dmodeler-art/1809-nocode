# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–≤—è–∑–µ–π —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–µ–π

## üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

### **1. –°–≤—è–∑–∏ –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª–∏—Å—å (Array(0)):**
**–ü—Ä–æ–±–ª–µ–º–∞:**
```
üîó –ù–∞–π–¥–µ–Ω—ã –∏—Å—Ö–æ–¥—è—â–∏–µ —Å–≤—è–∑–∏: Array(0)
```

**–ü—Ä–∏—á–∏–Ω–∞:** –í `handleConnectionData` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `selectedPage?.connections` –≤–º–µ—Å—Ç–æ `currentDocument.connections`

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// –ë—ã–ª–æ:
const outgoingConnections = selectedPage?.connections?.filter(conn => 
  conn.sourceElementId === sourceElementId && conn.isActive
);

// –°—Ç–∞–ª–æ:
const outgoingConnections = (currentDocument.connections || []).filter(conn => 
  conn.sourceElementId === sourceElementId && conn.isActive
);
```

### **2. –î–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–∏:**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –±—ã–ª–æ —è—Å–Ω–æ, –∫–∞–∫–æ–π —Ñ–∏–ª—å—Ç—Ä –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–∞–∫–æ–π

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–ø—Ü–∏–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –º–µ–Ω—é —Å–æ–∑–¥–∞–Ω–∏—è —Å–≤—è–∑–µ–π:
- **"–§–∏–ª—å—Ç—Ä—ã ‚Üí (–æ—Ç –ø–µ—Ä–≤–æ–≥–æ –∫–æ –≤—Ç–æ—Ä–æ–º—É)"** - –ø–µ—Ä–≤—ã–π —Ñ–∏–ª—å—Ç—Ä –≤–ª–∏—è–µ—Ç –Ω–∞ –≤—Ç–æ—Ä–æ–π
- **"–§–∏–ª—å—Ç—Ä—ã ‚Üê (–æ—Ç –≤—Ç–æ—Ä–æ–≥–æ –∫ –ø–µ—Ä–≤–æ–º—É)"** - –≤—Ç–æ—Ä–æ–π —Ñ–∏–ª—å—Ç—Ä –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–µ—Ä–≤—ã–π

## üéØ **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ —Å–≤—è–∑–µ–π:**

### **–¢–∏–ø—ã —Å–≤—è–∑–µ–π:**
1. **`filter`** - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏
2. **`data`** - –ü–µ—Ä–µ–¥–∞—á–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –∏–ª–∏ —Å–≤–æ–π—Å—Ç–≤
3. **`cart`** - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω—É
4. **`navigate`** - –ü–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –∏–ª–∏ —Å–µ–∫—Ü–∏—è–º–∏

### **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–∏:**
- **–ò—Å—Ç–æ—á–Ω–∏–∫ (sourceElementId)** - —ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ (targetElementId)** - —ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

### **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**
1. **PropertyFilter** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç `onConnectionData`
2. **PageBuilder** –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –∏—Å—Ö–æ–¥—è—â–∏–µ —Å–≤—è–∑–∏ –¥–ª—è —ç—Ç–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
3. **–û–±–Ω–æ–≤–ª—è–µ—Ç —Ü–µ–ª–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ —Å–≤—è–∑–∏

## üß™ **–ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**

### **1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤—è–∑–∏:**
1. **–î–æ–±–∞–≤—å—Ç–µ –¥–≤–∞ –±–ª–æ–∫–∞ PropertyFilter** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. **–í—ã–¥–µ–ª–∏—Ç–µ –æ–±–∞ –±–ª–æ–∫–∞** (Ctrl + –∫–ª–∏–∫)
3. **–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–∏:**
   - "–§–∏–ª—å—Ç—Ä—ã ‚Üí (–æ—Ç –ø–µ—Ä–≤–æ–≥–æ –∫–æ –≤—Ç–æ—Ä–æ–º—É)"
   - "–§–∏–ª—å—Ç—Ä—ã ‚Üê (–æ—Ç –≤—Ç–æ—Ä–æ–≥–æ –∫ –ø–µ—Ä–≤–æ–º—É)"

### **2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:**
1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–≤—ã–π —Ñ–∏–ª—å—Ç—Ä** –Ω–∞ —Å–≤–æ–π—Å—Ç–≤–æ "Domeo_–°—Ç–∏–ª—å Web"
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—Ç–æ—Ä–æ–π —Ñ–∏–ª—å—Ç—Ä** –Ω–∞ —Å–≤–æ–π—Å—Ç–≤–æ "Domeo_–ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ –¥–ª—è Web"
3. **–í—ã–±–µ—Ä–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ** –≤ –ø–µ—Ä–≤–æ–º —Ñ–∏–ª—å—Ç—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ù–µ–æ–∫–ª–∞—Å—Å–∏–∫–∞")
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –í—Ç–æ—Ä–æ–π —Ñ–∏–ª—å—Ç—Ä –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–∏—Ç—å—Å—è
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –º–æ–¥–µ–ª–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Å—Ç–∏–ª—é

### **3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
**–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:**
```
üîó handleConnectionData –≤—ã–∑–≤–∞–Ω–∞: {sourceElementId: "element-123", data: {...}}
üîó –ù–∞–π–¥–µ–Ω—ã –∏—Å—Ö–æ–¥—è—â–∏–µ —Å–≤—è–∑–∏: [{id: "connection-456", sourceElementId: "element-123", targetElementId: "element-789", connectionType: "filter", isActive: true}]
üîç –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤: {sourceElementId: "element-123", targetElementId: "element-789", data: {...}}
üîç –û–±–Ω–æ–≤–ª—è–µ–º PropertyFilter selectedValue –Ω–∞: "–ù–µ–æ–∫–ª–∞—Å—Å–∏–∫–∞"
```

## üìã **–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**

### **1. `PageBuilder.tsx`:**
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–∏—Å–∫ —Å–≤—è–∑–µ–π –≤ `handleConnectionData`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ `currentDocument.connections`

### **2. `ConnectionContextMenu.tsx`:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–∏ –≤ –º–µ–Ω—é
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `handleCreateConnection`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–ø—Ü–∏–∏ "‚Üí" –∏ "‚Üê" –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å–≤—è–∑–∏

## ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

- ‚úÖ **–°–≤—è–∑–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è** - –±–æ–ª—å—à–µ –Ω–µ—Ç "Array(0)"
- ‚úÖ **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–∏** - –ø–æ–Ω—è—Ç–Ω–æ, –∫–∞–∫–æ–π —Ñ–∏–ª—å—Ç—Ä –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–∞–∫–æ–π
- ‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç** - —Ñ–∏–ª—å—Ç—Ä—ã –æ–±–Ω–æ–≤–ª—è—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞
- ‚úÖ **–õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–æ—Ü–µ—Å—Å** - –≤–∏–¥–Ω–æ, –∫–∞–∫ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ

## üîç **–û—Ç–ª–∞–¥–∫–∞:**

### **–ï—Å–ª–∏ —Å–≤—è–∑–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:**
1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ `handleConnectionData`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–≤—è–∑–∏** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–≤—è–∑—å —Å–æ–∑–¥–∞–Ω–∞ –≤ –ø–∞–Ω–µ–ª–∏ "–°–≤—è–∑–∏ –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏"
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - —Å–≤—è–∑—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å `isActive: true`

### **–ï—Å–ª–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ:**
1. **–£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—É—é —Å–≤—è–∑—å** –≤ –ø–∞–Ω–µ–ª–∏ "–°–≤—è–∑–∏ –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏"
2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é** —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** - –ø–µ—Ä–≤—ã–π –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –ø—Ä–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ "‚Üí"

---

**–°–≤—è–∑–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è! üöÄ**

