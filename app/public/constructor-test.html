<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
        button { padding: 10px 15px; margin: 5px; }
        iframe { width: 100%; height: 800px; border: 1px solid #ccc; }
    </style>
</head>
<body>
    <h1>üîç –¢–µ—Å—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞</h1>
    
    <div class="section">
        <h3>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</h3>
        <ol>
            <li>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏" (–ª—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ)</li>
            <li>–ù–∞–∂–º–∏—Ç–µ "–î–∞–ª–µ–µ"</li>
            <li>–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</li>
            <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ "–ü–æ–∫–∞–∑–∞—Ç—å —Å–µ—Ç–∫—É" –∏ "–ü—Ä–∏–≤—è–∑–∫–∞ –∫ —Å–µ—Ç–∫–µ"</li>
            <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –µ—Å—Ç—å –±–ª–æ–∫ "–û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è"</li>
        </ol>
    </div>
    
    <div class="section">
        <h3>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:</h3>
        <iframe id="constructorFrame" src="/admin/categories/builder"></iframe>
    </div>
    
    <div class="section">
        <h3>–ü—Ä–æ–≤–µ—Ä–∫–∞:</h3>
        <button onclick="checkConstructor()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</button>
        <div id="result"></div>
    </div>

    <script>
        function checkConstructor() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '<div class="info">–ü—Ä–æ–≤–µ—Ä–∫–∞...</div>';
            
            try {
                const iframe = document.getElementById('constructorFrame');
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
                const checks = [
                    { name: '–§–æ—Ä–º–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏', selector: 'input[name="name"]' },
                    { name: '–ö–Ω–æ–ø–∫–∞ –î–∞–ª–µ–µ', selector: 'button:contains("–î–∞–ª–µ–µ")' },
                    { name: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞', selector: 'h1:contains("–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü")' },
                    { name: '–ö–Ω–æ–ø–∫–∞ —Å–µ—Ç–∫–∏', selector: 'button:contains("–ü–æ–∫–∞–∑–∞—Ç—å —Å–µ—Ç–∫—É")' },
                    { name: '–ë–ª–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏', selector: 'text:contains("–û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è")' }
                ];
                
                let results = [];
                
                checks.forEach(check => {
                    try {
                        const element = iframeDoc.querySelector(check.selector);
                        if (element) {
                            results.push(`‚úÖ ${check.name}: –ù–∞–π–¥–µ–Ω`);
                        } else {
                            results.push(`‚ùå ${check.name}: –ù–µ –Ω–∞–π–¥–µ–Ω`);
                        }
                    } catch (e) {
                        results.push(`‚ùå ${check.name}: –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏`);
                    }
                });
                
                resultDiv.innerHTML = results.join('<br>');
                
            } catch (error) {
                resultDiv.innerHTML = `<div class="error">‚ùå –û—à–∏–±–∫–∞: ${error.message}</div>`;
            }
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
        setTimeout(() => {
            checkConstructor();
        }, 3000);
    </script>
</body>
</html>



