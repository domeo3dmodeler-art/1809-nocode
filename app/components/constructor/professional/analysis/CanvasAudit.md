# –ê—É–¥–∏—Ç Canvas - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

## üö® –ü—Ä–æ–±–ª–µ–º—ã

### 1. **–ö—Ä–∏–≤–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤**
- –≠–ª–µ–º–µ–Ω—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —Å–ª—É—á–∞–π–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ (100, 100)
- –ù–µ—Ç –ª–æ–≥–∏–∫–∏ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç snap-to-grid –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏
- –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞

### 2. **–†–∞–±–æ—á–∞—è –æ–±–ª–∞—Å—Ç—å –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞**
- –°–µ—Ç–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è, –Ω–æ —Ä–∞–±–æ—á–∞—è –æ–±–ª–∞—Å—Ç—å –Ω–µ –≤—ã–¥–µ–ª–µ–Ω–∞
- –ù–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü —Ä–∞–±–æ—á–µ–π –æ–±–ª–∞—Å—Ç–∏
- –≠–ª–µ–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –≤—ã—Ö–æ–¥–∏—Ç—å –∑–∞ –ø—Ä–µ–¥–µ–ª—ã canvas
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç padding/margin –¥–ª—è —Ä–∞–±–æ—á–µ–π –æ–±–ª–∞—Å—Ç–∏

### 3. **–†–∞–∑–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤**
- –≠–ª–µ–º–µ–Ω—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ 0x0
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã
- –ù–µ—Ç –∞–≤—Ç–æ–ø–æ–¥–±–æ—Ä–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É
- –†–∞–∑–º–µ—Ä—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø–∞–Ω–µ–ª–∏ —Å–≤–æ–π—Å—Ç–≤

### 4. **Zoom –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**
- Zoom –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å canvasDimensions
- handleZoomChange –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç zoom state
- –ù–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- Zoom controls –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### 5. **Grid —Å–∏—Å—Ç–µ–º–∞**
- –°–µ—Ç–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- Snap-to-grid —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ drag, –Ω–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
- –†–∞–∑–º–µ—Ä —Å–µ—Ç–∫–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π (20px)
- –ù–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–µ—Ç–∫–∏

### 6. **Rulers (–õ–∏–Ω–µ–π–∫–∏)**
- –õ–∏–Ω–µ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è, –Ω–æ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å zoom
- –ù–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–≤—è–∑–∫–∞ –∫ —Å–µ—Ç–∫–µ

## üéØ –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è —Ä–∞–±–æ—á–∞—è –æ–±–ª–∞—Å—Ç—å
1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã —Ä–∞–±–æ—á–µ–π –æ–±–ª–∞—Å—Ç–∏
2. –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
3. –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Ä–∞–±–æ—á–µ–π –æ–±–ª–∞—Å—Ç–∏
4. –î–æ–±–∞–≤–∏—Ç—å padding/margin

### –≠—Ç–∞–ø 2: –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
1. –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å snap-to-grid –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
3. –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ
4. –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –Ω–∞–ª–æ–∂–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### –≠—Ç–∞–ø 3: –†–∞–∑–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã
2. –ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä —Ä–∞–∑–º–µ—Ä–æ–≤ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É
3. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –ø–∞–Ω–µ–ª–∏ —Å–≤–æ–π—Å—Ç–≤
4. –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤

### –≠—Ç–∞–ø 4: Zoom –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å zoom —Å canvasDimensions
2. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
3. –†–∞–±–æ—á–∏–µ zoom controls
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –ø—Ä–∏ zoom

### –≠—Ç–∞–ø 5: Grid –∏ Rulers
1. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è —Å–µ—Ç–∫–∞
2. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –ª–∏–Ω–µ–π–∫–∏
3. –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —Å–µ—Ç–∫–µ
4. –í–∏–∑—É–∞–ª—å–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∏–µ

## üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

### –ö—Ä–∏—Ç–∏—á–Ω–æ (—Å–µ–π—á–∞—Å)
1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (0x0 ‚Üí —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã)
2. ‚úÖ –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–∞–±–æ—á—É—é –æ–±–ª–∞—Å—Ç—å
3. ‚úÖ –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
4. ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –Ω–∞–ª–æ–∂–µ–Ω–∏–µ

### –í–∞–∂–Ω–æ (—Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø)
1. Snap-to-grid –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è zoom
3. –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π
4. –ê–≤—Ç–æ–≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (–ø–æ–∑–∂–µ)
1. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è —Å–µ—Ç–∫–∞
2. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –ª–∏–Ω–µ–π–∫–∏
3. –í–∏–∑—É–∞–ª—å–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∏–µ
4. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –∫–æ–¥–µ:
```typescript
// –ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
width: element.type === 'text' ? 200 : element.type === 'button' ? 120 : 200,
height: element.type === 'text' ? 50 : element.type === 'button' ? 40 : 150,

// –ü—Ä–æ–±–ª–µ–º–∞ 2: –°–ª—É—á–∞–π–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
left: 100,
top: 100,

// –ü—Ä–æ–±–ª–µ–º–∞ 3: Zoom –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω
const handleZoomChange = useCallback((newZoom: number) => {
  setCanvasDimensions(prev => ({
    ...prev,
    width: prev.deviceWidth * newZoom,
    height: prev.deviceHeight * newZoom
  }))
}, []) // –ù–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è zoom state

// –ü—Ä–æ–±–ª–µ–º–∞ 4: –†–∞–±–æ—á–∞—è –æ–±–ª–∞—Å—Ç—å –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
<div 
  className="absolute inset-0"
  style={{ 
    padding: `${canvasDimensions.deviceWidth >= 768 ? 20 : 10}px`,
    paddingTop: `${showRulers ? 80 : 20}px`,
    paddingLeft: `${showRulers ? 100 : 20}px`
  }}
>
```

### –†–µ—à–µ–Ω–∏—è:
```typescript
// –†–µ—à–µ–Ω–∏–µ 1: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã
const getDefaultSize = (type: string) => {
  switch (type) {
    case 'text': return { width: 200, height: 50 }
    case 'button': return { width: 120, height: 40 }
    case 'image': return { width: 200, height: 150 }
    default: return { width: 200, height: 100 }
  }
}

// –†–µ—à–µ–Ω–∏–µ 2: –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
const getCenteredPosition = (canvasWidth: number, canvasHeight: number, elementWidth: number, elementHeight: number) => {
  return {
    left: (canvasWidth - elementWidth) / 2,
    top: (canvasHeight - elementHeight) / 2
  }
}

// –†–µ—à–µ–Ω–∏–µ 3: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è zoom
const handleZoomChange = useCallback((newZoom: number) => {
  setCanvasDimensions(prev => ({
    ...prev,
    width: prev.deviceWidth * newZoom,
    height: prev.deviceHeight * newZoom
  }))
  // –û–±–Ω–æ–≤–∏—Ç—å zoom state
}, [])

// –†–µ—à–µ–Ω–∏–µ 4: –†–∞–±–æ—á–∞—è –æ–±–ª–∞—Å—Ç—å
<div 
  className="absolute inset-0"
  style={{ 
    padding: '40px',
    paddingTop: showRulers ? '100px' : '40px',
    paddingLeft: showRulers ? '120px' : '40px'
  }}
>
  {/* –†–∞–±–æ—á–∞—è –æ–±–ª–∞—Å—Ç—å —Å —á–µ—Ç–∫–∏–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ */}
</div>
```

